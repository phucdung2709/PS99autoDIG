local PATROL_POINTS = {
    Vector3.new(80.87, 0.42, -36.25),
    Vector3.new(95.24, 0.42, 84.61),
    Vector3.new(-118.13, 0.05, 106.55),
    Vector3.new(-83.54, 0.00, -26.32),
}

local JUMP_PERIOD  = 5
local CHAT_PERIOD  = 180
local ROLL_PERIOD  = 30

local CHAT_MESSAGES = {
    "Hi! B·∫°n t√™n g√¨ trong ƒë·ªùi th·∫≠t? M√¨nh t√™n l√† [T√™n b·∫°n]!",
    "B·∫°n ch∆°i game n√†y l√¢u ch∆∞a? M√¨nh m·ªõi ch∆°i √° üòÖ",
    "C√≥ mu·ªën l·∫≠p team c√πng m√¨nh kh√¥ng?",
    "B·∫°n c√≥ Discord kh√¥ng? K·∫øt b·∫°n n√≥i chuy·ªán cho ti·ªán!",
    "Skin b·∫°n ƒë·∫πp qu√°! B·∫°n l√†m sao c√≥ ƒë∆∞·ª£c th·∫ø?",
    "Ch∆°i vui v·∫ª nha m·ªçi ng∆∞·ªùi!",
    "C·∫©n th·∫≠n nha, ƒëo·∫°n n√†y kh√≥ √°!",
    "M√¨nh lag x√≠u, ƒë·ª£i m√¨nh v·ªõi üòÖ",
    "C√≥ ai ch·ªâ m√¨nh c√°ch ch∆°i ƒëo·∫°n n√†y kh√¥ng?",
    "L√°t m√¨nh tho√°t nha, mai g·∫∑p l·∫°i nh√©! Add friend m√¨nh nha!",
    "B·∫°n hay ch∆°i game n√†o tr√™n Roblox n·ªØa kh√¥ng?",
    "B·∫°n ƒë·∫øn t·ª´ ƒë√¢u v·∫≠y?",
    "M√¨nh th·∫•y b·∫°n ch∆°i gi·ªèi qu√° tr·ªùi!",
    "L√†m sao ƒë·ªÉ farm ƒë·ªì nhanh v·∫≠y b·∫°n?",
    "B·∫°n c√≥ nh·∫≠n trade kh√¥ng? M√¨nh c√≥ v√†i m√≥n x·ªãn l·∫Øm üòÑ",
    "Wow, nh√† b·∫°n ƒë·∫πp qu√°, b·∫°n x√¢y m·∫•t bao l√¢u?",
    "B·∫°n c√≥ ch∆°i Adopt Me kh√¥ng? K·∫øt b·∫°n m√¨nh ch∆°i chung nhen!",
    "Game n√†y vui th·∫≠t, b·∫°n c√≥ ch∆°i m·ªói ng√†y kh√¥ng?",
    "Cho m√¨nh follow b·∫°n nha!",
    "B·∫°n c√≥ nh√≥m n√†o ƒë·ªÉ v√†o kh√¥ng? Cho m√¨nh join v·ªõi!",
    "·ª¶a b·∫°n c√≥ ph·∫£i YouTuber kh√¥ng? Nick quen quen √°!",
    "B·∫°n bi·∫øt c√°ch n√†o ki·∫øm Robux free kh√¥ng üòÖ?",
    "C√≥ c√°ch n√†o l√™n level nhanh kh√¥ng b·∫°n?",
    "B·∫°n c√≥ m·∫•y pet legendary r·ªìi?",
    "B·∫°n bi·∫øt code n√†o m·ªõi cho game n√†y kh√¥ng?",
    "·ª¶a sao b·∫°n ch·∫°y nhanh d·ªØ v·∫≠y? Hack h·∫£? üòÇ",
    "B·∫°n ch∆°i game n√†y t·ª´ nƒÉm n√†o r·ªìi?",
    "M√¨nh b·ªã k·∫πt, gi√∫p m√¨nh v·ªõi üò≠",
    "B·∫°n c√≥ bi·∫øt server n√†o √≠t lag kh√¥ng?",
    "ƒê·ªôi b·∫°n ƒë√¥ng qu√°, win ch·∫Øc lu√¥n!",
    "Ch∆°i v·ªõi b·∫°n vui gh√™ √°!",
    "T√≠ n·ªØa b·∫°n c√≤n ch∆°i n·ªØa kh√¥ng?",
    "B·∫°n add friend m√¨nh nha, mai ch∆°i ti·∫øp!",
    "B·∫°n c√≥ bi·∫øt c√°ch l·∫•y skin ƒë√≥ kh√¥ng?",
    "M√¨nh m·ªõi ƒë·ªïi outfit n√®, ƒë·∫πp kh√¥ng? üòÜ",
    "L√∫c n√£y b·∫°n g√°nh team qu√° ƒë·ªânh!",
    "M√¨nh thua ho√†i lu√¥n √°, c√≥ m·∫πo g√¨ kh√¥ng b·∫°n?",
    "B·∫°n d√πng device g√¨ ch∆°i v·∫≠y? PC hay ƒëi·ªán tho·∫°i?",
    "M√¨nh s·∫Øp r·ªõt m·∫°ng r·ªìi üò≠",
    "H√¥m nay ch∆°i vui qu√°, c·∫£m ∆°n b·∫°n nha!",
}

local EGG_REMOTE_PATH   = { "Network", "Eggs_Roll" }
local EGG_ROLL_ARGUMENTS = nil

local Players            = game:GetService("Players")
local PathfindingService = game:GetService("PathfindingService")
local TextChatService    = game:GetService("TextChatService")
local ReplicatedStorage  = game:GetService("ReplicatedStorage")

local player  = Players.LocalPlayer
local channel = TextChatService:FindFirstChild("TextChannels")
              and TextChatService.TextChannels:FindFirstChild("RBXGeneral")

if channel then
    task.spawn(function()
        local i = 1
        while true do
            task.wait(CHAT_PERIOD)
            pcall(function() channel:SendAsync(CHAT_MESSAGES[i]) end)
            i = (i % #CHAT_MESSAGES) + 1
        end
    end)
end

local function startEggRolling()
    local remote = ReplicatedStorage
    for _, name in ipairs(EGG_REMOTE_PATH) do
        remote = remote:WaitForChild(name)
    end
    task.spawn(function()
        while true do
            task.wait(ROLL_PERIOD)
            pcall(function()
                if EGG_ROLL_ARGUMENTS then
                    remote:InvokeServer(table.unpack(EGG_ROLL_ARGUMENTS))
                else
                    remote:InvokeServer()
                end
            end)
        end
    end)
end
startEggRolling()

local function setupCharacter(char)
    local humanoid = char:WaitForChild("Humanoid")
    local rootPart = char:WaitForChild("HumanoidRootPart")

    local function walkTo(target)
        local path = PathfindingService:CreatePath{
            AgentRadius = 2,
            AgentHeight = 5,
            AgentCanJump = true,
        }
        path:ComputeAsync(rootPart.Position, target)
        if path.Status ~= Enum.PathStatus.Success then return end
        local blocked = false
        local conn = path.Blocked:Connect(function() blocked = true end)
        for _, wp in ipairs(path:GetWaypoints()) do
            if blocked then break end
            humanoid:MoveTo(wp.Position)
            if wp.Action == Enum.PathWaypointAction.Jump then
                humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
            end
            if not humanoid.MoveToFinished:Wait() then break end
        end
        conn:Disconnect()
    end

    task.spawn(function()
        while char.Parent do
            task.wait(JUMP_PERIOD)
            humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
        end
    end)

    task.spawn(function()
        local idx = 1
        while char.Parent do
            walkTo(PATROL_POINTS[idx])
            idx = (idx % #PATROL_POINTS) + 1
            task.wait(1)
        end
    end)
end

player.CharacterAdded:Connect(setupCharacter)
if player.Character then setupCharacter(player.Character) end
